<!-- NEW EXPERIENCE FORM -->
<%= form_for [:dashboard, @event] do |f| %>

  <% if @event.errors.any? %>

    <div id="error_explanation" class="alert alert-error">
      <button data-dismiss="alert" class="close"></button>
      <h2 style="color: #db7c7e" class="bold"><%= pluralize(@event.errors.count, "error") %> prohibited this event from being saved:</h2>

      <ul>
        <% @event.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="col-md-8">
      <div class="grid simple">
        <!--GRID BODY-->
        <div class="grid-body no-border">
          <br/>
          <h3>Event <span class="semi-bold">Details</span></h3>
          <br>

          <div class="form-group">
            <label class="form-label">Catch your customers attention with a nice title ( under 5 words)</label>
            <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
            <div class="controls">
              <!--<input type="text" class="form-control">-->
              <%= f.text_field :name, :class => "form-control", :autofocus => true, :required => true %>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Describe your event in a line ( under 15 words )</label>
            <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
            <div class="controls">
              <!--<input type="text" class="form-control">-->
              <%= f.text_field :tagline, :class => "form-control", :required => "required" %>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">What is included in the event</label>
            <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
            <div class="controls">
              <!--<input type="text" class="form-control">-->
              <%= f.text_area :what_does_this_include, :class => "form-control", :rows => 5, :required => "required" %>
            </div>
          </div>


          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label">Price per ticket (all inclusive)</label>
                <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
                <div class="controls">
                  <!--<input type="text" class="form-control">-->

                  <div class="input-group">
                    <span class="input-group-addon primary">
                    <span class="arrow" style="right: 0"></span>
                      <i class="fa fa-usd"></i>
                    </span>
                    <!--<input type="text" placeholder="Username" class="form-control">-->
                    <%= f.number_field :price, :class => "form-control", :required => "required" %>
                  </div>




                </div>
              </div>

            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label">Number of seats</label>
                <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
                <div class="controls">
                  <!--<input type="text" class="form-control">-->
                  <%= f.number_field :max_seats, :class => "form-control", :required => "required" %>
                </div>
              </div>
            </div>
          </div>
          <br/>

          <div class="form-group">
            <label class="form-label">Any special instructions?</label>
            <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
            <div class="controls">
              <!--<input type="text" class="form-control">-->
              <%= f.text_area :things_to_remember, :class => "form-control", :rows => 5 %>
            </div>
          </div>

        </div>
        <!--END GRID BODY-->
      </div>
    </div>

    <div class="col-md-4">
      <div class="grid simple">
        <!--GRID BODY-->
        <div class="grid-body no-border">
          <br/>
          <h3>Event <span class="semi-bold">Schedule</span></h3>
          <br>
          <div class="form-group">
            <label class="form-label">Select the dates when this event is available</label>
            <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
            <div class="controls">

              <div class="input-group date" id="experience_date_container">
                <!--<input type="text" class="form-control" id="date_picker">-->
                <%# f.text_field :exp_date, :class => "form-control", :required => true %>
                <%# text_field_tag 'exp_dates[]', @experience.exp_date, :class => "form-control" %>
                <input class="form-control" id="event_dates" name="event_dates" required="required" type="text">
                <span class="input-group-btn">
                  <button class="btn btn-default" type="button" id="datepicker-button"><i class="fa fa-calendar"></i></button>
            </span>
              </div><!-- /input-group -->
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">What time does the event happen every day</label>
            <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
            <div class="controls">
              <!--<input type="text" class="form-control">-->
              <div class="input-append bootstrap-timepicker-component">
                <%# f.text_field :exp_time, :class => "timepicker-default form-control", :required => true %>
                <input class="timepicker-default form-control" id="event_event_time" name="event[event_time]" required="required" type="text">
                <span class="add-on"><span class="arrow"></span><i class="fa fa-clock-o" id="clock-button"></i></span> </div>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Event duration</label>

            <div class="row">
              <div class="col-md-12">

                <div class="input-group">
                    <span class="input-group-addon">
                      Hours
                    </span>
                  <!--<input type="text" placeholder="Username" class="form-control">-->
                  <%= f.number_field :duration, :class => "form-control", :required => true %>
                </div>

              </div>
            </div>

          </div>



          <!-- END DATE AND TIME PICKER -->

          <div class="clearfix"></div>
        </div>
        <!--END GRID BODY-->
      </div>
    </div> <!-- END COL 4 - EXPERIENCE SCHEDULE -->

  </div> <!-- END ROW -->

  <div class="row">
    <!-- 8 COL -->
    <div class="col-md-8">
      <div class="grid simple">
        <!--GRID BODY-->
        <div class="grid-body no-border">
          <br/>
          <h3>Event <span class="semi-bold">Meeting Place</span></h3>
          <br>
          <div class="row">
            <div class="col-md-6">

              <div class="form-group">
                <label class="form-label">Address Line One</label>
                <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
                <div class="controls">
                  <!--<input type="text" class="form-control">-->
                  <%= f.text_field :line_one, :class => "form-control", :required => true %>
                </div>
              </div>
            </div> <!-- END COL 6 -->
            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label">Address Line Two</label>
                <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
                <div class="controls">
                  <!--<input type="text" class="form-control">-->
                  <%= f.text_field :line_two, :class => "form-control" %>
                </div>
              </div>
            </div> <!-- END COL 6 -->
          </div> <!-- END ROW -->

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label">City</label>
                <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
                <div class="controls">
                  <!--<input type="text" class="form-control">-->
                  <%= f.text_field :city, :class => "form-control", :required => true %>
                </div>
              </div>

            </div> <!-- END COL 6 -->
            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label">State</label>
                <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
                <div class="controls">
                  <!--<input type="text" class="form-control">-->
                  <%= f.text_field :state, :class => "form-control" %>
                </div>
              </div>

            </div> <!-- END COL 6 -->
          </div> <!-- END ROW -->
          <br>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label">Country</label>
                <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
                <div class="controls">
                  <!--<input type="text" class="form-control">-->
                  <%= f.text_field :country, :class => "form-control", :required => true %>
                </div>
              </div>

            </div> <!-- END COL 6 -->
            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label">Zipcode</label>
                <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
                <div class="controls">
                  <!--<input type="text" class="form-control">-->
                  <%= f.text_field :pincode, :class => "form-control" %>
                </div>
              </div>

            </div> <!-- END COL 6 -->
          </div> <!-- END ROW -->
          <br>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label class="form-label">What is the closest landmark?</label>
                <!--<span class="help">e.g. "Mona Lisa Portrait"</span>-->
                <div class="controls">
                  <!--<input type="text" class="form-control">-->
                  <%= f.text_field :landmark, :class => "form-control", :required => true%>
                </div>
              </div>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-md-12">
              <div id="map" style="width: 100%; height: 300px; background: #eee;">
                <h2>Type an address in the input above</h2>
              </div>
            </div>
          </div>
          <%= f.hidden_field :latitude, :value => 0 %>
          <%= f.hidden_field :longitude %>
        </div>
        <!--END GRID BODY-->
      </div>


    </div>
    <!-- END 8 COL -->
    <!-- 4 COL -->
    <div class="col-md-4">
      <div class="grid simple">
        <div class="grid-body no-border">
          <br/>
          <h3>Event <span class="semi-bold">Photos</span></h3>
          <p>
            Upload pictures to show your customers what your event looks like. <span class="bold">( Maximum 6 )</span>
          </p>
          <div class="row-fluid" style="display: table; vertical-align:middle;text-align:center">

            <% if @event_images.present? %>
              <input type="hidden" name="images_exist" value="0" id="experience_exist"/>
            <% else %>
              <input type="hidden" name="images_exist" value="1" id="experience_exist"/>
            <% end %>


            <div id="file_picker">
              <% if @event_images.blank? %>
                <input type="hidden" name="images" id="images">
              <% else %>
                <input type="hidden" name="images" id="images" value="<%= @event_images.to_json %>">
              <% end %>

            </div>
            <div id="select_file_container">
              <a href="#" id="file_picker_button" class="btn">Select Pictures</a>
            </div>

            <div id="delete-all-files-container">
              <button class="btn btn-danger btn-cons" id="delete-all-files" data-experience-id="<%= @event.id %>">Delete All Files</button>
            </div>

            <div id="file-upload-success-message" class="alert alert-success">
              <button data-dismiss="alert" class="close"></button>
              Success: Pictures <a class="link" href="#">uploaded</a>
            </div>



            <table id="files_uploaded_list" class="table table-striped table-flip-scroll cf">
              <tbody>
              <% if @event_images.present? %>
                <% @event_images.each do |exp_image| %>
                  <tr style="border-top:5px solid #fff">
                    <td>
                      <img src="<%= exp_image.url %>" class="img-responsive"/>
                    </td>
                  </tr>
                <% end %>
              <% end %>
              <tr></tr>
              </tbody>
            </table>

          </div>
        </div>
      </div>
    </div>
    <!-- END 4 COL -->

  </div>

  <div class="row">
    <div class="col-md-6">
      <%= f.submit :class => "btn btn-primary btn-cons" %>
    </div>
  </div>
  <br/>
  <br/>
<% end %>
<!-- END NEW EXPERIENCE FORM -->



