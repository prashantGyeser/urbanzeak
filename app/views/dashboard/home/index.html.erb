<!--Todo: Chats to add -->
<!--1. Visitors chart -->
<!--2. Total revenue chart -->
<!--2. Total attendees chart -->

<%= content_for :js do %>
  <%= javascript_include_tag "dashboard/dashboard.js", 'data-turbolinks-track' => true %>
  <%= javascript_include_tag "dashboard/calendar.js", 'data-turbolinks-track' => true %>
<% end %>


<!-- BEGIN PlACE PAGE CONTENT HERE -->
<!-- BEGIN PAGE TITLE -->
<div class="page-title">
  <h3>Dashboard</h3>
</div>
<!-- END PAGE TITLE -->

<!--KEY VALUES-->
<div class="row">
  <!--BOX 1-->
  <div class="col-md-3">
    <div class="tiles blue added-margin">
      <div class="tiles-body">
        <div class="tiles-title"> TOTAL VISITS </div>
        <div class="heading"> <span class="animate-number" data-value="<%= @total_views %>" data-animation-duration="1200"><%= @total_views %></span> </div>
      </div>
    </div>
  </div>
  <!--END BOX 1-->
  <!--BOX 2-->
  <div class="col-md-3">
    <div class="tiles green added-margin">
      <div class="tiles-body">
        <div class="tiles-title"> TODAY’S VISITS </div>
        <div class="heading"> <span class="animate-number" data-value="<%= @total_views_today %>" data-animation-duration="1000"><%= @total_views_today %></span> </div>
      </div>
    </div>
  </div>
  <!--END BOX 2-->
  <!--BOX 3-->
  <div class="col-md-3">
    <div class="tiles red added-margin">
      <div class="tiles-body">
        <div class="tiles-title"> TODAY’S SALES </div>
        <div class="heading"> $ <span class="animate-number" data-value="<%= @total_sales_today %>" data-animation-duration="1200"><%= @total_sales_today %></span> </div>
      </div>
    </div>
  </div>
  <!--END BOX 3-->
  <!--BOX 4-->
  <div class="col-md-3">
    <div class="tiles purple added-margin ">
      <div class="tiles-body">
        <div class="controller"> <a href="javascript:;" class="reload"></a> <a href="javascript:;" class="remove"></a> </div>
        <div class="tiles-title"> TOTAL SALES </div>
        <div class="row-fluid">
          <div class="heading"> $ <span class="animate-number" data-value="<%= @total_sales %>" data-animation-duration="700"><%= @total_sales %></span> </div>
        </div>
      </div>
    </div>
  </div>
  <!--END BOX 4-->
</div>
<!--END KEY VALUES-->
<br>
<br>

<!--TOP LINE CHART-->
<div class="row">
  <div class="col-md-12">
    <div class="grid simple">
      <div class="grid-title no-border">
        <h4>Visitors <span class="semi-bold">This Week</span></h4>
        <div class="tools"> <a href="javascript:;" class="collapse"></a> <a href="#grid-config" data-toggle="modal" class="config"></a> <a href="javascript:;" class="reload"></a> <a href="javascript:;" class="remove"></a> </div>
      </div>
      <div class="grid-body no-border">
        <h4>Visitors <span class="semi-bold">By Day</span></h4>
        <p> Line graphs are probably the most widely used graph for showing trends.
          Chart.js has a ton of customisation features for line graphs, along with support for multiple datasets to be plotted on one chart. </p>
        <!--<div id="line-example"> </div>-->

        <%= content_tag :div, "", id: "visits_chart", :data => { :views => @total_views_by_day} %>
      </div>
    </div>
  </div>
</div>
<!--END TOP LINE CHART-->



<!--MOST REFERRING SITES-->
<div class="row">
  <!--CHART 1-->
  <div class="col-md-4">
    <div class="grid simple">
      <div class="grid-title no-border">
        <h4>Key <span class="semi-bold">Referrer</span></h4>
        <div class="tools"> <a href="javascript:;" class="collapse"></a> <a href="#grid-config" data-toggle="modal" class="config"></a> <a href="javascript:;" class="reload"></a> <a href="javascript:;" class="remove"></a> </div>
      </div>
      <div class="grid-body no-border">
        <h3>Referrer Breakdown</h3>
        <p>Flot is a pure JavaScript plotting library for jQuery, with a focus on simple usage, attractive looks and interactive features.</p>
        <br>

        <!--<div id="most_valuable_referrer_1"> </div>-->
        <div id="referrer-breakdown" style="height:200px;"> </div>
      </div>
    </div>
  </div>
  <!--END CHART 1-->
  <!--CHART 2-->
  <div class="col-md-4">
    <div class="grid simple">
      <div class="grid-title no-border">
        <h4>Key <span class="semi-bold">Referrer</span></h4>
        <div class="tools"> <a href="javascript:;" class="collapse"></a> <a href="#grid-config" data-toggle="modal" class="config"></a> <a href="javascript:;" class="reload"></a> <a href="javascript:;" class="remove"></a> </div>
      </div>
      <div class="grid-body no-border">
        <h3>Second Most Valuable</h3>
        <p>Flot is a pure JavaScript plotting library for jQuery, with a focus on simple usage, attractive looks and interactive features.</p>
        <br>
        <div id="most_valuable_referrer_2"> </div>
      </div>
    </div>
  </div>
  <!--END CHART 2-->
  <!--CHART 3-->
  <div class="col-md-4">
    <div class="grid simple">
      <div class="grid-title no-border">
        <h4>Key <span class="semi-bold">Referrer</span></h4>
        <div class="tools"> <a href="javascript:;" class="collapse"></a> <a href="#grid-config" data-toggle="modal" class="config"></a> <a href="javascript:;" class="reload"></a> <a href="javascript:;" class="remove"></a> </div>
      </div>
      <div class="grid-body no-border">
        <h3>Third Most Valuable</h3>
        <p>Flot is a pure JavaScript plotting library for jQuery, with a focus on simple usage, attractive looks and interactive features.</p>
        <br>
        <div id="most_valuable_referrer_3"> </div>
      </div>
    </div>
  </div>
  <!-- END CHART 3-->
</div> <!-- END ROW -->
<!--END MOST REFERRING SITES-->

<!--BOOKMARK LIST START-->
<div class="content">
  <div class="row" style="max-height:600px;">
    <div class="tiles row tiles-container red no-padding">
      <div class="col-md-4 tiles red no-padding">
        <div class="tiles-body">
          <div class="calender-options-wrapper">
            <h3 class="text-white semi-bold" id="calender-current-day"></h3>
            <h2 class="text-white" id="calender-current-date"></h2>
            <div id='external-events' class="hide-inphone events-wrapper">
              <div class="events-heading">&nbsp;Draggable Events</div>
              <div class='external-event'>My Event 1</div>
              <div class='external-event'>My Event 2</div>
              <div class='external-event'>My Event 3</div>
              <div class='external-event'>My Event 4</div>
              <div class='external-event'>My Event 5</div>

              <div class="checkbox check-default p-t-20">
                <input type="checkbox" value="1" id='drop-remove'>
                <label for="drop-remove">Keep Me Signed in</label>
              </div>

            </div>
          </div>
        </div>
      </div>
      <div class="col-md-8 tiles white no-padding">
        <div class="tiles-body">
          <div class="full-calender-header">
            <div class="pull-left">
              <div class="btn-group ">
                <button class="btn btn-success" id="calender-prev"><i class="fa fa-angle-left"></i></button>
                <button class="btn btn-success" id="calender-next"><i class="fa fa-angle-right"></i></button>
              </div>
            </div>
            <div class="pull-right">
              <div data-toggle="buttons-radio" class="btn-group">
                <button class="btn btn-primary active" type="button" id="change-view-month">month</button>
                <button class="btn btn-primary " type="button" id="change-view-week">week</button>
                <button class="btn btn-primary" type="button" id="change-view-day">day</button>
              </div>
            </div>
            <div class="clearfix"></div>
          </div>
          <div id='calendar'></div>
        </div>
      </div>
    </div>
  </div>
  <br>
</div>
<!--BOOKMARK LIST END-->


<!-- END PLACE PAGE CONTENT HERE -->





<!-- Keep all page content within the page-content inset div! -->
<div class="page-content inset">
  <% if current_user.tour_completed == true %>
    <%= render :partial => "reports" %>
  <% else %>
    <%= render :partial => "onboarding" %>
  <% end %>

</div>